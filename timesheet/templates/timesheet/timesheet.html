{% extends 'master.html' %}

{% block pageJS %}
<script type="text/javascript">
	$( "#id_monday").change(function() {
		document.getElementById('id_total').value =
		parseInt(document.getElementById('id_total').value) +
		parseInt(document.getElementById('id_monday').value);
	});
	$( "#id_tuesday").change(function() {
		document.getElementById('id_total').value =
		parseInt(document.getElementById('id_total').value) +
		parseInt(document.getElementById('id_tuesday').value);
	});
	$( "#id_wednesday").change(function() {
		document.getElementById('id_total').value =
		parseInt(document.getElementById('id_total').value) +
		parseInt(document.getElementById('id_wednesday').value);
	});
	$( "#id_thursday").change(function() {
		document.getElementById('id_total').value =
		parseInt(document.getElementById('id_total').value) +
		parseInt(document.getElementById('id_thursday').value);
	});
	$( "#id_friday").change(function() {
		document.getElementById('id_total').value =
		parseInt(document.getElementById('id_total').value) +
		parseInt(document.getElementById('id_friday').value);
	});
	$( "#id_saturday").change(function() {
		document.getElementById('id_total').value =
		parseInt(document.getElementById('id_total').value) +
		parseInt(document.getElementById('id_saturday').value);
	});
	
	$( "#id_activity_monday").change(function() {
		document.getElementById('id_activity_total').value =
		parseInt(document.getElementById('id_activity_total').value) +
		parseInt(document.getElementById('id_activity_monday').value);
	});
	$( "#id_activity_tuesday").change(function() {
		document.getElementById('id_activity_total').value =
		parseInt(document.getElementById('id_activity_total').value) +
		parseInt(document.getElementById('id_activity_tuesday').value);
	});
	$( "#id_activity_wednesday").change(function() {
		document.getElementById('id_activity_total').value =
		parseInt(document.getElementById('id_activity_total').value) +
		parseInt(document.getElementById('id_activity_wednesday').value);
	});
	$( "#id_activity_thursday").change(function() {
		document.getElementById('id_activity_total').value =
		parseInt(document.getElementById('id_activity_total').value) +
		parseInt(document.getElementById('id_activity_thursday').value);
	});
	$( "#id_activity_friday").change(function() {
		document.getElementById('id_activity_total').value =
		parseInt(document.getElementById('id_activity_total').value) +
		parseInt(document.getElementById('id_activity_friday').value);
	});
	$( "#id_activity_saturday").change(function() {
		document.getElementById('id_activity_total').value =
		parseInt(document.getElementById('id_activity_total').value) +
		parseInt(document.getElementById('id_activity_saturday').value);
	});
</script>
{% endblock %}


{% block siteTitle %}ANSR-Timesheet Entry{% endblock %}


{% block content  %}
<legend class="clearfix pad-bot-10">
 <span class="col-md-2">
 <button type="submit" value="submit" class="btn btn-default">
	<span class="glyphicon glyphicon-arrow-left"></span>
 </button>
 </span>
 <span class="col-md-4">
 Start : {{ weekstartDate }}
 </span>
 <span class="col-md-4">
 End : {{ weekendDate }}
 </span>
 <span class="col-md-2">
 <button type="submit" value="submit" class="btn btn-default pull-right"> 
	<span class="glyphicon glyphicon-arrow-right"></span>
 </button>
 </span>
</legend>

<div class="text-center">
	<h4><small style="color: green">This Timesheet is approved </small> </h4>
	<h4><small style="color: red">This Timesheet is not approved </small> </h4>
</div>
  
  <form id="timesheet" method="post" action="" enctype="multipart/form-data">
	{% csrf_token %}
	<legend>
	Billable 
	<span class="pull-right">
		<button type="submit" value="submit" id="addForm" class="btn btn-success btn-xs">
			<span class="glyphicon glyphicon-plus"></span>
			Add Billable Item
		</button>
		<button type="submit" value="submit" class="btn btn-danger btn-xs">
			<span class="glyphicon glyphicon-minus"></span>
			Delete Billable Item
		</button>
	</span>
	</legend>
	{{ tsFormset.management_form }}
	<table class="table table-condensed table-responsive">
	{% for form in tsFormset %}
		{% if forloop.first %}
		<thead>
            	<tr>
			{% for data in form %}
				{% if forloop.counter == 1 or forloop.counter == 2 or forloop.counter == 3 or forloop.counter == 11 %}
					<th class="res-14-per">
				{% else %}
					<th>
				{% endif %}
				{{ data.label }}
				{% if data.field.required %}
					<span class="required">*</span>
				{% endif %}
				</th>
			{% endfor %}
            	</tr>
		</thead>
		<tbody>
		{% endif %}
		<tr>
			{% for data in form %}
				<td>{{ data }}</td>
			{% endfor %}
		</tr>
		{% if forloop.last %}
		</tbody>
		{% endif %}
	{% endfor %}
	</table>
	<legend>
	Non - Billable 
	<span class="pull-right">
		<button type="submit" value="submit" id="addForm" class="btn btn-success btn-xs">
			<span class="glyphicon glyphicon-plus"></span>
			Add Non-Billable Item
		</button>
		<button type="submit" value="submit" class="btn btn-danger btn-xs">
			<span class="glyphicon glyphicon-minus"></span>
			Delete Non-Billable Item
		</button>
	</span>
	</legend>
	{{ atFormset.management_form }}
	<table class="table table-condensed table-responsive">
	{% for form in atFormset %}
		{% if forloop.first %}
		<thead>
            	<tr>
                {% for data in form %}
		    {% if forloop.counter == 1 or forloop.counter == 9 %}
		    	<th class="res-14-per">
		    {% else %}
			<th>
		    {% endif %}
                    {{ data.label }}
                    {% if data.field.required %}
                        <span class="required">*</span>
                    {% endif %}
                    </th>
                {% endfor %}
            	</tr>
		</thead>
		<tbody>
		{% endif %}
		<tr>
			{% for data in form %}
				<td>{{ data }}</td>
			{% endfor %}
		</tr>
		{% if forloop.last %}
		</tbody>
		{% endif %}
	{% endfor %}
	</table>
 <button type="submit" value="submit" class="btn btn-info pull-right">
	 Save
 </button>
 </form>
{% endblock  %}

{% block loggedStatus %}
<li class="ansrLogout"><a href="{% url 'logout' %}">
    <span class="glyphicon glyphicon-off ansrLogoutIcon"></span>
      <span class="ansrLogout">Logout</span>
  </a></li>
{% endblock %}
