{% extends 'reportMaster.inc' %}
{% load bootstrap3 %}
{% load fontawesome %}
{% load humanize %}
{% block pageTitle %}Invoice Summary{% endblock %}
{%block childcontent %}


<style>

.autocomplete-light-widget input, .autocomplete-light-widget input:focus{width: 100% !important;}
.table-condensed>thead>tr>th, .table-condensed>tbody>tr>th, .table-condensed>tfoot>tr>th, .table-condensed>thead>tr>td, .table-condensed>tbody>tr>td, .table-condensed>tfoot>tr>td {
    padding: 5px 8px;
}

</style>
<div class="panel clearfix">
<div class="panel-body">
<div class="row">
    <div class="col-md-12" style="overflow: auto">
        <form id="loginForm"  action="" method="POST" enctype="multipart/form-data" class="noPrint">
            {% csrf_token %}
            {% bootstrap_messages %}
            <table class="table table-condensed">
                <tr>
                    {% for field in form %}
                        <th>{{ field.label }}
                            {% if field.field.required %}
                                <span class="required">*</span>
                            {% endif %}
                        </th>
                    {% endfor %}
                </tr>
                <tr>
                    {% for field in form %}
                        <td>{{ field }}</td>
                    {% endfor %}
                    <td class="col-lg-1"><button type="submit" class="btn btn-primary">

                        <i class="fa fa-line-chart"></i>
                        Get Report
                    </button></td>

                </tr>
            </table>
        </form>

    <div id="invoicereport"></div>
    </div>
</div>
</div>
</div>

<script type="text/javascript">
$("#loginForm").submit(function (e) {

  e.preventDefault();
  project = document.getElementById('id_project').value
  startDate = document.getElementById('id_startDate').value
  endDate = document.getElementById('id_endDate').value
  console.log(project, startDate, endDate)

    $.ajax( {
      type: "POST",
      url: 'invoice-report',
      data: {"project":project,"startDate":startDate,"endDate":endDate},
      success: function( data ) {
        $("#invoicereport").html(data);
      }
    });

    });
</script>

{% endblock %}
