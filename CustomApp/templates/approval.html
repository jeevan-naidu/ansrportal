
{% extends 'master.html' %}
{% block siteTitle %}Manage Leaves{% endblock %}

{% load static from staticfiles %}
{% load process_tags %}
{% load rest_framework %}

{% block pageTitle %}Manage Leaves{% endblock %}

{% block content  %}




<div class="container">
  <h2>Basic List Group</h2>
  <ul class="list-group">
     <div class="panel pb-15">

    <div class="panel-body">

<table class="table table-striped" id="">
  <thead>
    <tr>
        {% for field in fields %}
            {% if field == "request_status" %}
<th><b>Request Status</b></th>
            {% elif field == "id" %}
                {% else %}
                <th><b>{{ field|title }}</b></th>
            {% endif %}


        {% endfor %}
        <th><b>Action</b></th>
    </tr>
  </thead>
  <tbody>
{% for process in queryset %}
     <tr>
 {% for field in fields %}
     {% if field == "id" %}
        {% else %}
      <th><b>{{ process| field_name:field }}</b></th>
     {% endif %}


{% endfor %}
     <th><a id="approve-{{ process| field_name:"id" }}" href="#modal-container-process" role="button" data-toggle="modal" title="Approve"
        class="pull-right btn btn-sm btn-success btn-ansr-orange">
                            approve
                          </a></th>
      <th><a id="reject-{{ process| field_name:"id" }}" href="#modal-container-process" role="button" data-toggle="modal" title="Reject"
        class="pull-right btn btn-sm btn-danger btn-ansr-orange">
                            reject
                          </a></th>

</tr>

{% endfor %}

</table>


</div>
     </div>
  </ul>


<div class="modal fade" id="modal-container-process">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Action</h4>
        </div>

        <div class="modal-body">

<form id="modal-container-process-submit" method="post" enctype="multipart/form-data">
    {% csrf_token %}
          <p>{% render_form serializer template_pack='rest_framework/vertical' %}</p>
            <button type="submit" class="btn btn-default" >Submit</button>
     </form>
        </div>
        <div class="modal-footer">

        </div>

      </div>

    </div>
  </div>

</div>



<script src='{% static 'js/custom_app.js' %}' type="text/javascript"></script>
{% endblock %}